# Author: Bradley R. Kinnard â€” containerized worker

FROM python:3.11-slim

WORKDIR /app

# copy requirements first for layer caching
COPY pyproject.toml ./

# install python deps
RUN pip install --no-cache-dir poetry && \
    poetry config virtualenvs.create false && \
    poetry install --only main --no-interaction --no-ansi

# copy source
COPY src/ ./src/

# worker has no healthcheck endpoint, just runs forever

CMD ["python", "-m", "src.backend.workers.feedback_processor"]
